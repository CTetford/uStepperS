<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>uStepper S: uStepperEncoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">uStepper S
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classuStepperEncoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">uStepperEncoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Prototype of class for the AEAT8800-Q24 encoder.  
 <a href="classuStepperEncoder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9c80a99fca938eeb490e4ed8d109f04"><td class="memItemLeft" align="right" valign="top"><a id="ab9c80a99fca938eeb490e4ed8d109f04"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#ab9c80a99fca938eeb490e4ed8d109f04">uStepperEncoder</a> (void)</td></tr>
<tr class="memdesc:ab9c80a99fca938eeb490e4ed8d109f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of <a class="el" href="classuStepperEncoder.html" title="Prototype of class for the AEAT8800-Q24 encoder.">uStepperEncoder</a> class. <br /></td></tr>
<tr class="separator:ab9c80a99fca938eeb490e4ed8d109f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e78587431729869ae7e3394641b909"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a51e78587431729869ae7e3394641b909">init</a> (<a class="el" href="classuStepperS.html">uStepperS</a> *_pointer)</td></tr>
<tr class="memdesc:a51e78587431729869ae7e3394641b909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiation of the encoder.  <a href="#a51e78587431729869ae7e3394641b909">More...</a><br /></td></tr>
<tr class="separator:a51e78587431729869ae7e3394641b909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3fc82540c092e8a6c68d4580bedbf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#abf3fc82540c092e8a6c68d4580bedbf9">setHome</a> (void)</td></tr>
<tr class="memdesc:abf3fc82540c092e8a6c68d4580bedbf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define new reference(home) position.  <a href="#abf3fc82540c092e8a6c68d4580bedbf9">More...</a><br /></td></tr>
<tr class="separator:abf3fc82540c092e8a6c68d4580bedbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf760d7949e75977bf11bce48256283c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#abf760d7949e75977bf11bce48256283c">getAngle</a> (void)</td></tr>
<tr class="memdesc:abf760d7949e75977bf11bce48256283c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current shaft angle in degrees.  <a href="#abf760d7949e75977bf11bce48256283c">More...</a><br /></td></tr>
<tr class="separator:abf760d7949e75977bf11bce48256283c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c6ce15fc449cbebbed70ebba0ff5a6"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#ab7c6ce15fc449cbebbed70ebba0ff5a6">getAngleRaw</a> (void)</td></tr>
<tr class="memdesc:ab7c6ce15fc449cbebbed70ebba0ff5a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current shaft angle in raw encoder readings.  <a href="#ab7c6ce15fc449cbebbed70ebba0ff5a6">More...</a><br /></td></tr>
<tr class="separator:ab7c6ce15fc449cbebbed70ebba0ff5a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29117f4952ff99ba53b90b842f4e69f1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a29117f4952ff99ba53b90b842f4e69f1">getAngleMoved</a> (void)</td></tr>
<tr class="memdesc:a29117f4952ff99ba53b90b842f4e69f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the angle moved from reference position in degrees.  <a href="#a29117f4952ff99ba53b90b842f4e69f1">More...</a><br /></td></tr>
<tr class="separator:a29117f4952ff99ba53b90b842f4e69f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe71ef4b4f0413e3c9986f15a3edc84"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a4fe71ef4b4f0413e3c9986f15a3edc84">getAngleMovedRaw</a> (void)</td></tr>
<tr class="memdesc:a4fe71ef4b4f0413e3c9986f15a3edc84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the angle moved from reference position in raw encoder readings.  <a href="#a4fe71ef4b4f0413e3c9986f15a3edc84">More...</a><br /></td></tr>
<tr class="separator:a4fe71ef4b4f0413e3c9986f15a3edc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8812beadc9bec6f4e321d281d9b6ea79"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a8812beadc9bec6f4e321d281d9b6ea79">getSpeed</a> (void)</td></tr>
<tr class="memdesc:a8812beadc9bec6f4e321d281d9b6ea79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measure the current speed of the motor.  <a href="#a8812beadc9bec6f4e321d281d9b6ea79">More...</a><br /></td></tr>
<tr class="separator:a8812beadc9bec6f4e321d281d9b6ea79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e040232788a91dc168c0b1ccb0fbae"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#ab9e040232788a91dc168c0b1ccb0fbae">getRPM</a> (void)</td></tr>
<tr class="memdesc:ab9e040232788a91dc168c0b1ccb0fbae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measure the current speed of the motor.  <a href="#ab9e040232788a91dc168c0b1ccb0fbae">More...</a><br /></td></tr>
<tr class="separator:ab9e040232788a91dc168c0b1ccb0fbae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e63f211a33fb632b475002b9328fca1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a2e63f211a33fb632b475002b9328fca1">captureAngle</a> (void)</td></tr>
<tr class="memdesc:a2e63f211a33fb632b475002b9328fca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capture the current shaft angle.  <a href="#a2e63f211a33fb632b475002b9328fca1">More...</a><br /></td></tr>
<tr class="separator:a2e63f211a33fb632b475002b9328fca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1567e96bd3bf1a05a64a6e43dcdfb072"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a1567e96bd3bf1a05a64a6e43dcdfb072">getStatus</a> (void)</td></tr>
<tr class="memdesc:a1567e96bd3bf1a05a64a6e43dcdfb072"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get encoder status.  <a href="#a1567e96bd3bf1a05a64a6e43dcdfb072">More...</a><br /></td></tr>
<tr class="separator:a1567e96bd3bf1a05a64a6e43dcdfb072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7caed8169740d198d65e123d6c48495"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#ae7caed8169740d198d65e123d6c48495">detectMagnet</a> (void)</td></tr>
<tr class="memdesc:ae7caed8169740d198d65e123d6c48495"><td class="mdescLeft">&#160;</td><td class="mdescRight">detect magnet  <a href="#ae7caed8169740d198d65e123d6c48495">More...</a><br /></td></tr>
<tr class="separator:ae7caed8169740d198d65e123d6c48495"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a602c25ed26a1d3b48ba2215a40b0edd8"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a602c25ed26a1d3b48ba2215a40b0edd8">encoderOffset</a></td></tr>
<tr class="separator:a602c25ed26a1d3b48ba2215a40b0edd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae19871928f7fbe4a1b69270a8cec7932"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#ae19871928f7fbe4a1b69270a8cec7932">angle</a></td></tr>
<tr class="separator:ae19871928f7fbe4a1b69270a8cec7932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0156342c81b94ab3f7ef176494205f65"><td class="memItemLeft" align="right" valign="top">volatile int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a0156342c81b94ab3f7ef176494205f65">angleMoved</a></td></tr>
<tr class="separator:a0156342c81b94ab3f7ef176494205f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479c3f88c98766f1df30eea67b907c6f"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a479c3f88c98766f1df30eea67b907c6f">oldAngle</a></td></tr>
<tr class="separator:a479c3f88c98766f1df30eea67b907c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eea748427c45b7792c61b0e44821abe"><td class="memItemLeft" align="right" valign="top">volatile int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a1eea748427c45b7792c61b0e44821abe">revolutions</a></td></tr>
<tr class="separator:a1eea748427c45b7792c61b0e44821abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0647659291c6ed4f4104e95f5ae047"><td class="memItemLeft" align="right" valign="top">volatile float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#afe0647659291c6ed4f4104e95f5ae047">curSpeed</a></td></tr>
<tr class="separator:afe0647659291c6ed4f4104e95f5ae047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba494c8d7728558ab9517f1e3f6568f"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="structposFilter__t.html">posFilter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a8ba494c8d7728558ab9517f1e3f6568f">encoderFilter</a></td></tr>
<tr class="separator:a8ba494c8d7728558ab9517f1e3f6568f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:add49ad79af1377c014b7ab5a6c696699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#add49ad79af1377c014b7ab5a6c696699">chipSelect</a> (bool state)</td></tr>
<tr class="memdesc:add49ad79af1377c014b7ab5a6c696699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the output level of the chip select pin.  <a href="#add49ad79af1377c014b7ab5a6c696699">More...</a><br /></td></tr>
<tr class="separator:add49ad79af1377c014b7ab5a6c696699"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af03347ce7448de89aa6e3333607534fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuStepperS.html">uStepperS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#af03347ce7448de89aa6e3333607534fc">pointer</a></td></tr>
<tr class="separator:af03347ce7448de89aa6e3333607534fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ddd8d32b7729c8f9b9c261defa82cc3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuStepperEncoder.html#a8ddd8d32b7729c8f9b9c261defa82cc3">status</a></td></tr>
<tr class="separator:a8ddd8d32b7729c8f9b9c261defa82cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Prototype of class for the AEAT8800-Q24 encoder. </p>
<pre class="fragment">        This class enables the user of the library to access the AEAT8800-Q24
        encoder on the uStepper S board.
</pre> 
<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00058">58</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2e63f211a33fb632b475002b9328fca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e63f211a33fb632b475002b9328fca1">&#9670;&nbsp;</a></span>captureAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t uStepperEncoder::captureAngle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Capture the current shaft angle. </p>
<pre class="fragment">        This function is used by the ISR to read the current angle of the motor shaft.
        The Angle is read by means of the SSI interface, using the hardware SPI port.
</pre><dl class="section return"><dt>Returns</dt><dd>samples the encoder and returns the current angle reading </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00108">108</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="add49ad79af1377c014b7ab5a6c696699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add49ad79af1377c014b7ab5a6c696699">&#9670;&nbsp;</a></span>chipSelect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uStepperEncoder::chipSelect </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the output level of the chip select pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>- 1 = High, 0 = low </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00170">170</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="ae7caed8169740d198d65e123d6c48495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7caed8169740d198d65e123d6c48495">&#9670;&nbsp;</a></span>detectMagnet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool uStepperEncoder::detectMagnet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>detect magnet </p>
<pre class="fragment">        This function reads the current status of the encoder with regards to placement
        of the magnet.
</pre><dl class="section return"><dt>Returns</dt><dd>checks if the magnet is placed in the correct distance from the encoder: 0: everything is OK 1: magnet is placed either too far away or too close to the encoder </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00092">92</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="abf760d7949e75977bf11bce48256283c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf760d7949e75977bf11bce48256283c">&#9670;&nbsp;</a></span>getAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float uStepperEncoder::getAngle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current shaft angle in degrees. </p>
<pre class="fragment">        This function returns the last captured shaft angle.
        The resolution of the angle returned by this function is
        0.0054931640625 degrees (16 bits)
</pre><dl class="section return"><dt>Returns</dt><dd>Floating point representation of the current motor shaft angle </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00133">133</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="a29117f4952ff99ba53b90b842f4e69f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29117f4952ff99ba53b90b842f4e69f1">&#9670;&nbsp;</a></span>getAngleMoved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float uStepperEncoder::getAngleMoved </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the angle moved from reference position in degrees. </p>
<pre class="fragment">        This function returns the angle moved from the shaft
        reference position. When the uStepper S is first powered on,
        the reference position is reset to the current shaft
        position, meaning that this function will return the angle
        rotated with respect to the angle the motor initially had. It
        should be noted that this function is absolute to an
        arbitrary number of revolutions !

        The reference position can be reset at any point in time, by
        use of the setHome() function.
</pre><dl class="section return"><dt>Returns</dt><dd>The angle moved in degrees. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00144">144</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="a4fe71ef4b4f0413e3c9986f15a3edc84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fe71ef4b4f0413e3c9986f15a3edc84">&#9670;&nbsp;</a></span>getAngleMovedRaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t uStepperEncoder::getAngleMovedRaw </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the angle moved from reference position in raw encoder readings. </p>
<pre class="fragment">        This function returns the angle moved from the shaft
        reference position. When the uStepper S is first powered on,
        the reference position is reset to the current shaft
        position, meaning that this function will return the angle
        rotated with respect to the angle the motor initially had. It
        should be noted that this function is absolute to an
        arbitrary number of revolutions !

        The reference position can be reset at any point in time, by
        use of the setHome() function.
</pre><dl class="section return"><dt>Returns</dt><dd>The angle moved in raw encoder readings. </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00149">149</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="ab7c6ce15fc449cbebbed70ebba0ff5a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c6ce15fc449cbebbed70ebba0ff5a6">&#9670;&nbsp;</a></span>getAngleRaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t uStepperEncoder::getAngleRaw </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current shaft angle in raw encoder readings. </p>
<pre class="fragment">            This function returns the last captured shaft angle, as 
        output directly from the encoder.
            The resolution of the angle returned by this function is
            16 bits
</pre><dl class="section return"><dt>Returns</dt><dd>raw 16 bit encoder representation of the current motor shaft angle </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00138">138</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="ab9e040232788a91dc168c0b1ccb0fbae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e040232788a91dc168c0b1ccb0fbae">&#9670;&nbsp;</a></span>getRPM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float uStepperEncoder::getRPM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measure the current speed of the motor. </p>
<pre class="fragment">        This function returns the current speed of the motor. The
        speed is not calculated in this function, it is merely
        returning a variable. The speed is calculated in the
        interrupt routine associated with timer1.
</pre><dl class="section return"><dt>Returns</dt><dd>Current speed in RPM </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00165">165</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="a8812beadc9bec6f4e321d281d9b6ea79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8812beadc9bec6f4e321d281d9b6ea79">&#9670;&nbsp;</a></span>getSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float uStepperEncoder::getSpeed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measure the current speed of the motor. </p>
<pre class="fragment">        This function returns the current speed of the motor. The
        speed is not calculated in this function, it is merely
        returning a variable. The speed is calculated in the
        interrupt routine associated with timer1.
</pre><dl class="section return"><dt>Returns</dt><dd>Current speed in 1/256th steps per second </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00160">160</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="a1567e96bd3bf1a05a64a6e43dcdfb072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1567e96bd3bf1a05a64a6e43dcdfb072">&#9670;&nbsp;</a></span>getStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uStepperEncoder::getStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get encoder status. </p>
<pre class="fragment">        This function reads the current status of the encoder 
</pre><dl class="section return"><dt>Returns</dt><dd>Current status register content </dd></dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00155">155</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="a51e78587431729869ae7e3394641b909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e78587431729869ae7e3394641b909">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uStepperEncoder::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classuStepperS.html">uStepperS</a> *&#160;</td>
          <td class="paramname"><em>_pointer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiation of the encoder. </p>
<pre class="fragment">        This function initiates all the registers of the encoder.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_pointer</td><td>- reference to the uStepper S object </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00049">49</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<a id="abf3fc82540c092e8a6c68d4580bedbf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3fc82540c092e8a6c68d4580bedbf9">&#9670;&nbsp;</a></span>setHome()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uStepperEncoder::setHome </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define new reference(home) position. </p>
<pre class="fragment">        This function redefines the reference position to the current
        angle of the shaft
</pre> 
<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8cpp_source.html#l00075">75</a> of file <a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae19871928f7fbe4a1b69270a8cec7932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae19871928f7fbe4a1b69270a8cec7932">&#9670;&nbsp;</a></span>angle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t uStepperEncoder::angle</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This variable always contain the current rotor angle, relative to a single revolution </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00206">206</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="a0156342c81b94ab3f7ef176494205f65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0156342c81b94ab3f7ef176494205f65">&#9670;&nbsp;</a></span>angleMoved</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int32_t uStepperEncoder::angleMoved</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Variable used to store that measured angle moved from the reference position </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00210">210</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="afe0647659291c6ed4f4104e95f5ae047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0647659291c6ed4f4104e95f5ae047">&#9670;&nbsp;</a></span>curSpeed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile float uStepperEncoder::curSpeed</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Variable used to store the last measured rotational speed of the motor shaft </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00227">227</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="a8ba494c8d7728558ab9517f1e3f6568f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ba494c8d7728558ab9517f1e3f6568f">&#9670;&nbsp;</a></span>encoderFilter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="structposFilter__t.html">posFilter_t</a> uStepperEncoder::encoderFilter</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Object to hold speed filter </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00230">230</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="a602c25ed26a1d3b48ba2215a40b0edd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602c25ed26a1d3b48ba2215a40b0edd8">&#9670;&nbsp;</a></span>encoderOffset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t uStepperEncoder::encoderOffset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Angle of the shaft at the reference position. </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00202">202</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="a479c3f88c98766f1df30eea67b907c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a479c3f88c98766f1df30eea67b907c6f">&#9670;&nbsp;</a></span>oldAngle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t uStepperEncoder::oldAngle</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to stored the previous measured angle for the speed measurement, and the calculation of angle moved from reference position </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00216">216</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="af03347ce7448de89aa6e3333607534fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03347ce7448de89aa6e3333607534fc">&#9670;&nbsp;</a></span>pointer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuStepperS.html">uStepperS</a>* uStepperEncoder::pointer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reference to the main object </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00235">235</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="a1eea748427c45b7792c61b0e44821abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eea748427c45b7792c61b0e44821abe">&#9670;&nbsp;</a></span>revolutions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int16_t uStepperEncoder::revolutions</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This variable contains the number of revolutions in either direction, since last home position was set. negative numbers corresponds to CCW turns, and positive to CW turns </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00222">222</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<a id="a8ddd8d32b7729c8f9b9c261defa82cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ddd8d32b7729c8f9b9c261defa82cc3">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t uStepperEncoder::status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Status bits from the encoder </p>

<p class="definition">Definition at line <a class="el" href="uStepperEncoder_8h_source.html#l00245">245</a> of file <a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/thomas/Arduino/libraries/uStepperSLibrary/src/<a class="el" href="uStepperEncoder_8h_source.html">uStepperEncoder.h</a></li>
<li>/home/thomas/Arduino/libraries/uStepperSLibrary/src/<a class="el" href="uStepperEncoder_8cpp_source.html">uStepperEncoder.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 28 2019 19:59:35 for uStepper S by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
